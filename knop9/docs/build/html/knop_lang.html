

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>knop_lang &mdash; Knop knop9 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     'knop9',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Knop knop9 documentation" href="index.html" />
    <link rel="next" title="knop_nav" href="knop_nav.html" />
    <link rel="prev" title="knop_grid" href="knop_grid.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="knop_nav.html" title="knop_nav"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="knop_grid.html" title="knop_grid"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Knop knop9 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="knop-lang">
<h1>knop_lang<a class="headerlink" href="#knop-lang" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="knop_lang">
<em class="property">class </em><tt class="descname">knop_lang</tt><a class="headerlink" href="#knop_lang" title="Permalink to this definition">¶</a></dt>
<dd><p>A knop_lang object holds all language strings for all supported languages.
Strings are stored under a unique text key, but the same key is of course used
for the different language versions of the same string. Strings can be separated
into different variables if it helps managing them for different contexts.</p>
<p>When the language of a string object is set, that language is used for all
subsequent requests for strings until another language is set. All other
instances on the same page that don&#8217;t have a language set will also use the same
language.</p>
<p>If no language is set, knop_lang uses the browser&#8217;s preferred language if it&#8217;s
available in the knop_lang object, otherwise it defaults to the first language
(unless a default language has been set for the instance).</p>
<dl class="method">
<dt id="knop_lang._unknowntag">
<tt class="descname">_unknowntag</tt><big>(</big><em>-language =?</em>, <em>-replace =?</em><big>)</big><a class="headerlink" href="#knop_lang._unknowntag" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">_unknowntag</tt><big>(</big><em>language =?</em>, <em>replace =?</em><big>)</big></dt>
<dd><p>Returns the language string for the specified text key</p>
<p>= shortcut for getstring.</p>
<dl class="docutils">
<dt>Parameters:</dt>
<dd><ul class="first last simple">
<li>language (optional)
see getstring( -language).</li>
<li>replace (optional)
see getstring( -replace).</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="knop_lang.addlanguage">
<tt class="descname">addlanguage</tt><big>(</big><em>-language::string</em>, <em>-strings::map =?</em><big>)</big><a class="headerlink" href="#knop_lang.addlanguage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">addlanguage</tt><big>(</big><em>language::string</em>, <em>strings::map =?</em><big>)</big></dt>
<dd><p>Adds a map with language strings for an entire language. Replaces all existing language strings for that language.</p>
<dl class="docutils">
<dt>Parameters:</dt>
<dd><ul class="first last simple">
<li>language (required)
The language to add.</li>
<li>strings (required)
Complete map of key = value for the entire language.</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="knop_lang.browserlanguage">
<tt class="descname">browserlanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_lang.browserlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Autodetects and returns the most preferred language out of all available languages as specified by the browser&#8217;s accept-language q-value.</p>
</dd></dl>

<dl class="method">
<dt id="knop_lang.currentlanguage">
<tt class="descname">currentlanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_lang.currentlanguage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">currentlanguage=(currentlanguage::string)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_lang.defaultlanguage">
<tt class="descname">defaultlanguage</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_lang.defaultlanguage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">defaultlanguage=(defaultlanguage::string)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_lang.getstring">
<tt class="descname">getstring</tt><big>(</big><em>-key::integer</em>, <em>-language::string =?</em>, <em>-replace =?</em><big>)</big><a class="headerlink" href="#knop_lang.getstring" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">getstring</tt><big>(</big><em>key</em>, <em>language::string =?</em>, <em>replace =?</em><big>)</big></dt>
<dd><p>Returns a specific text string in the language that has previously been set for
the instance.If no language has been set, the browser&#8217;s preferred language will
be used unless another instance on the same page has a language set using
-&gt;setlanguage.</p>
<p>If the string is not available in the chosen language and -fallback was
specified, the string for the language that was first specified for that key
will be returned.</p>
<dl class="docutils">
<dt>Parameters:</dt>
<dd><ul class="first last simple">
<li>key (required)
textkey to return the string for.</li>
<li>language (optional)
to return a string for a specified language (temporary override).</li>
<li>replace (optional)
single value or array of values that will be used as substitutions for placeholders #1#, #2# etc in the returned string, in the order they appear. Replacements can be compund expressions, which will be executed. Can also be map or pair array, and in that case the left hand element of the map/array will be replaced by the right hand element.</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<tt class="descname">getstring</tt><big>(</big><em>key::integer</em>, <em>-language::string =?</em>, <em>-replace =?</em><big>)</big></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">getstring</tt><big>(</big><em>key::string</em>, <em>-language::string =?</em>, <em>-replace =?</em><big>)</big></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_lang.insert">
<tt class="descname">insert</tt><big>(</big><em>language::string</em>, <em>key::string</em>, <em>value::string</em><big>)</big><a class="headerlink" href="#knop_lang.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an individual language string.</p>
<dl class="docutils">
<dt>Parameters:</dt>
<dd><ul class="first last simple">
<li>language (required)
The language for the string.</li>
<li>key (required)
Textkey to store the string under. Replaces any existing key for the same language.</li>
<li>value (required)
The actual string (can also be compound expression). Can contain replacement tokens #1#, #2# etc.</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="knop_lang.keys">
<tt class="descname">keys</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_lang.keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns array of all text keys in the string object.</p>
</dd></dl>

<dl class="method">
<dt>
<tt class="descname">keys=(keys)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_lang.languages">
<tt class="descname">languages</tt><big>(</big><em>language =?</em><big>)</big><a class="headerlink" href="#knop_lang.languages" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an array of all available languages in the string object (out of the
languages in the -language array if specified).</p>
<dl class="docutils">
<dt>Parameters:</dt>
<dd><ul class="first last simple">
<li>language (optional)
string or array of strings.</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="knop_lang.onconvert">
<tt class="descname">onconvert</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_lang.onconvert" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_lang.oncreate">
<tt class="descname">oncreate</tt><big>(</big><em>-default::string =?</em><big>)</big><a class="headerlink" href="#knop_lang.oncreate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">oncreate</tt><big>(</big><em>default::string =?</em>, <em>fallback::boolean =?</em>, <em>debug::boolean =?</em><big>)</big></dt>
<dd><p>Creates a new instance of knop_lang.</p>
<dl class="docutils">
<dt>Parameters:</dt>
<dd><ul class="first last simple">
<li>default (optional)
Default language.</li>
<li>fallback (optional)
If specified, falls back to default language if key is missing.</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="knop_lang.setlanguage">
<tt class="descname">setlanguage</tt><big>(</big><em>language::string</em><big>)</big><a class="headerlink" href="#knop_lang.setlanguage" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the current language for the string object. Also affects other instances on the same page that do not have an explicit language set.</p>
</dd></dl>

<dl class="method">
<dt id="knop_lang.strings">
<tt class="descname">strings</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_lang.strings" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">strings=(strings::map)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_lang.validlanguage">
<tt class="descname">validlanguage</tt><big>(</big><em>-language::string</em><big>)</big><a class="headerlink" href="#knop_lang.validlanguage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">validlanguage</tt><big>(</big><em>language::string</em><big>)</big></dt>
<dd><p>Checks if a specified language exists in the string object, returns true or false.</p>
</dd></dl>

<dl class="method">
<dt>
<tt class="descname">validlanguage</tt><big>(</big><em>void</em><big>)</big></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_lang.version">
<tt class="descname">version</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_lang.version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">version=(version::date)</tt></dt>
<dd></dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="knop_grid.html"
                        title="previous chapter">knop_grid</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="knop_nav.html"
                        title="next chapter">knop_nav</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/knop_lang.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="knop_nav.html" title="knop_nav"
             >next</a> |</li>
        <li class="right" >
          <a href="knop_grid.html" title="knop_grid"
             >previous</a> |</li>
        <li><a href="index.html">Knop knop9 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Johan Sölve, Jolle Carlestam, Tim Taplin, and Steve Piercy.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>