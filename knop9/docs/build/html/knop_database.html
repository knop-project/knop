

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>knop_database &mdash; Knop knop9 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     'knop9',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Knop knop9 documentation" href="index.html" />
    <link rel="next" title="knop_form" href="knop_form.html" />
    <link rel="prev" title="knop_cache" href="knop_cache.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="knop_form.html" title="knop_form"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="knop_cache.html" title="knop_cache"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Knop knop9 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="knop-database">
<h1>knop_database<a class="headerlink" href="#knop-database" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="knop_database">
<em class="property">class </em><tt class="descname">knop_database</tt><a class="headerlink" href="#knop_database" title="Permalink to this definition">¶</a></dt>
<dd><p>Custom type to interact with databases. Supports both MySQL and FileMaker datasources
Lasso 9 version</p>
<dl class="method">
<dt id="knop_database._unknowntag">
<tt class="descname">_unknowntag</tt><big>(</big><em>...</em><big>)</big><a class="headerlink" href="#knop_database._unknowntag" title="Permalink to this definition">¶</a></dt>
<dd><p>Shortcut to field</p>
</dd></dl>

<dl class="method">
<dt id="knop_database.acceptDeserializedElement">
<tt class="descname">acceptDeserializedElement</tt><big>(</big><em>d::serialization_element</em><big>)</big><a class="headerlink" href="#knop_database.acceptDeserializedElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when a knop_database object is retrieved from a session</p>
</dd></dl>

<dl class="method">
<dt id="knop_database.action_statement">
<tt class="descname">action_statement</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.action_statement" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">action_statement=(action_statement::string)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.addrecord">
<tt class="descname">addrecord</tt><big>(</big><em>-fields::array</em>, <em>-keyvalue::string =?</em>, <em>-inlinename::string =?</em><big>)</big><a class="headerlink" href="#knop_database.addrecord" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">addrecord</tt><big>(</big><em>fields::array</em>, <em>keyvalue::string =?</em>, <em>inlinename::string =?</em><big>)</big></dt>
<dd><p>Add a new record to the database. A random string keyvalue will be generated
unless a -keyvalue is specified.</p>
<dl class="docutils">
<dt>Parameters:</dt>
<dd><ul class="first last">
<li><p class="first">fields (required array)</p>
<blockquote>
<div><p>Lasso-style field values in pair array</p>
</div></blockquote>
</li>
<li><p class="first">keyvalue (optional)</p>
<blockquote>
<div><p>If -keyvalue is specified, it must not already exist in the database. Specify -keyvalue = false to prevent generating a keyvalue.</p>
</div></blockquote>
</li>
<li><p class="first">inlinename (optional)</p>
<blockquote>
<div><p>Defaults to autocreated inlinename.</p>
</div></blockquote>
</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="knop_database.affected_count">
<tt class="descname">affected_count</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.affected_count" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">affected_count=(affected_count::integer)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.affectedrecord_keyvalue">
<tt class="descname">affectedrecord_keyvalue</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.affectedrecord_keyvalue" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">affectedrecord_keyvalue=(affectedrecord_keyvalue::string)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.capturesearchvars">
<tt class="descname">capturesearchvars</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.capturesearchvars" title="Permalink to this definition">¶</a></dt>
<dd><p>capturesearchvars Internal.</p>
</dd></dl>

<dl class="method">
<dt id="knop_database.clearlocks">
<tt class="descname">clearlocks</tt><big>(</big><em>-user</em><big>)</big><a class="headerlink" href="#knop_database.clearlocks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">clearlocks</tt><big>(</big><em>user</em><big>)</big></dt>
<dd><p>Release all record locks for the specified user, suitable to use when showing
record list.</p>
<dl class="docutils">
<dt>Parameters:</dt>
<dd><ul class="first last">
<li><p class="first">user (required)</p>
<blockquote>
<div><p>The user to unlock records for.</p>
</div></blockquote>
</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="knop_database.current_record">
<tt class="descname">current_record</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.current_record" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">current_record=(current_record::integer)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.database">
<tt class="descname">database</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.database" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">database=(database::string)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.databaserows_map">
<tt class="descname">databaserows_map</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.databaserows_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">databaserows_map=(databaserows_map::map)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.datasource_name">
<tt class="descname">datasource_name</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.datasource_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">datasource_name=(datasource_name::string)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.db_connect">
<tt class="descname">db_connect</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.db_connect" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">db_connect=(db_connect::array)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.db_registry">
<tt class="descname">db_registry</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.db_registry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">db_registry=(db_registry)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.deleterecord">
<tt class="descname">deleterecord</tt><big>(</big><em>-keyvalue::string =?</em>, <em>-lockvalue::string =?</em>, <em>-user =?</em><big>)</big><a class="headerlink" href="#knop_database.deleterecord" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">deleterecord</tt><big>(</big><em>keyvalue::string =?</em>, <em>lockvalue::string =?</em>, <em>user =?</em><big>)</big></dt>
<dd><p>Deletes a specific database record.</p>
<dl class="docutils">
<dt>Parameters:</dt>
<dd><ul class="first last">
<li><p class="first">keyvalue (optional)</p>
<blockquote>
<div><p>Keyvalue is ignored if lockvalue is specified</p>
</div></blockquote>
</li>
<li><p class="first">lockvalue (optional)</p>
<blockquote>
<div><p>Either keyvalue or lockvalue must be specified</p>
</div></blockquote>
</li>
<li><p class="first">user (optional)</p>
<blockquote>
<div><p>If lockvalue is specified, user must be specified as well.</p>
</div></blockquote>
</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="knop_database.description">
<tt class="descname">description</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">description=(description::string)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.error_code">
<tt class="descname">error_code</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.error_code" title="Permalink to this definition">¶</a></dt>
<dd><p>varname Returns the name of the variable that this type instance is stored in.</p>
</dd></dl>

<dl class="method">
<dt id="knop_database.error_data">
<tt class="descname">error_data</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.error_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns more info for those errors that provide such.</p>
</dd></dl>

<dl class="method">
<dt>
<tt class="descname">error_data=(error_data::map)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.error_msg">
<tt class="descname">error_msg</tt><big>(</big><em>error_code::integer =?</em><big>)</big><a class="headerlink" href="#knop_database.error_msg" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.errors_error_data">
<tt class="descname">errors_error_data</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.errors_error_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">errors_error_data=(errors_error_data::map)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.field">
<tt class="descname">field</tt><big>(</big><em>fieldname::string</em>, <em>recordindex::integer =?</em>, <em>index::integer =?</em><big>)</big><a class="headerlink" href="#knop_database.field" title="Permalink to this definition">¶</a></dt>
<dd><p>A shortcut to return a specific field from a single record result.</p>
</dd></dl>

<dl class="method">
<dt id="knop_database.field_names">
<tt class="descname">field_names</tt><big>(</big><em>table::string =?</em>, <em>types::boolean =?</em><big>)</big><a class="headerlink" href="#knop_database.field_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an array of the field names from the last database query. If no database
query has been performed, a &#8220;-show&#8221; request is performed.</p>
<dl class="docutils">
<dt>Parameters:</dt>
<dd><ul class="first last">
<li><p class="first">table (optional)</p>
<blockquote>
<div><p>Return the field names for the specified table</p>
</div></blockquote>
</li>
<li><p class="first">types (optional flag)</p>
<blockquote>
<div><p>If specified, returns a pair array with fieldname and corresponding Lasso data type.</p>
</div></blockquote>
</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<tt class="descname">field_names=(field_names::array)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.field_names_map">
<tt class="descname">field_names_map</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.field_names_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">field_names_map=(field_names_map::map)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.found_count">
<tt class="descname">found_count</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.found_count" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">found_count=(found_count::integer)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.get">
<tt class="descname">get</tt><big>(</big><em>index::integer</em><big>)</big><a class="headerlink" href="#knop_database.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.getrecord">
<tt class="descname">getrecord</tt><big>(</big><em>-keyvalue::string =?</em>, <em>-keyfield::string =?</em>, <em>-inlinename::string =?</em>, <em>-lock::boolean =?</em>, <em>-user =?</em>, <em>-sql::string =?</em><big>)</big><a class="headerlink" href="#knop_database.getrecord" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">getrecord</tt><big>(</big><em>keyvalue::string =?</em>, <em>keyfield::string =?</em>, <em>inlinename::string =?</em>, <em>lock::boolean =?</em>, <em>user =?</em>, <em>sql::string =?</em><big>)</big></dt>
<dd><p>Returns a single specific record from the database, optionally locking the
record. If the keyvalue matches multiple records, an error is returned.</p>
<dl class="docutils">
<dt>Parameters:</dt>
<dd><ul class="first last">
<li><p class="first">keyvalue (optional)</p>
<blockquote>
<div><p>Uses a previously set keyvalue if not specified. If no keyvalue is available, an error is returned unless -sql is used.</p>
</div></blockquote>
</li>
<li><p class="first">keyfield (optional)</p>
<blockquote>
<div><p>Temporarily override of keyfield specified at oncreate</p>
</div></blockquote>
</li>
<li><p class="first">inlinename (optional)</p>
<blockquote>
<div><p>Defaults to autocreated inlinename</p>
</div></blockquote>
</li>
<li><p class="first">lock (optional flag)</p>
<blockquote>
<div><p>If flag is specified, a record lock will be set</p>
</div></blockquote>
</li>
<li><p class="first">user (optional)</p>
<blockquote>
<div><p>The user who is locking the record (required if using lock)</p>
</div></blockquote>
</li>
<li><p class="first">sql (optional)</p>
<blockquote>
<div><p>SQL statement to use instead of keyvalue. Must include the keyfield (and lockfield if locking is used).</p>
</div></blockquote>
</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="knop_database.host">
<tt class="descname">host</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.host" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">host=(host::array)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.inlinename">
<tt class="descname">inlinename</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.inlinename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">inlinename=(inlinename::string)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.isfilemaker">
<tt class="descname">isfilemaker</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.isfilemaker" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">isfilemaker=(isfilemaker::boolean)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.keyfield">
<tt class="descname">keyfield</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.keyfield" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">keyfield=(keyfield::string)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.keyvalue">
<tt class="descname">keyvalue</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.keyvalue" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">keyvalue=(keyvalue::string)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.lock_expires">
<tt class="descname">lock_expires</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.lock_expires" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">lock_expires=(lock_expires::integer)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.lock_seed">
<tt class="descname">lock_seed</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.lock_seed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">lock_seed=(lock_seed::string)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.lockfield">
<tt class="descname">lockfield</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.lockfield" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">lockfield=(lockfield::string)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.lockvalue">
<tt class="descname">lockvalue</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.lockvalue" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">lockvalue=(lockvalue::string)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.lockvalue_encrypted">
<tt class="descname">lockvalue_encrypted</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.lockvalue_encrypted" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">lockvalue_encrypted=(lockvalue_encrypted::string)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.maxrecords_value">
<tt class="descname">maxrecords_value</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.maxrecords_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">maxrecords_value=(maxrecords_value)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.message">
<tt class="descname">message</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.message" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">message=(message::string)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.next">
<tt class="descname">next</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.next" title="Permalink to this definition">¶</a></dt>
<dd><p>Increments the record pointer, returns true if there are more records to show,
false otherwise.</p>
<p>Useful as an alternative to a regular records loop:</p>
<div class="highlight-python"><pre>$database -&gt; select;
while($database -&gt; next);
        $database -&gt; field( \'name\');\'&lt;br&gt;\';
/while;</pre>
</div>
</dd></dl>

<dl class="method">
<dt id="knop_database.oncreate">
<tt class="descname">oncreate</tt><big>(</big><em>-database::string</em>, <em>-table::string</em>, <em>-host::array =?</em>, <em>-username::string =?</em>, <em>-password::string =?</em>, <em>-keyfield::string =?</em>, <em>-lockfield::string =?</em>, <em>-user =?</em>, <em>-validate::boolean =?</em><big>)</big><a class="headerlink" href="#knop_database.oncreate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">oncreate</tt><big>(</big><em>database::string</em>, <em>table::string</em>, <em>-host::array =?</em>, <em>-username::string =?</em>, <em>-password::string =?</em>, <em>-keyfield::string =?</em>, <em>-lockfield::string =?</em>, <em>-user =?</em>, <em>-validate::boolean =?</em><big>)</big></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">oncreate</tt><big>(</big><em>database::string</em>, <em>table::string</em>, <em>host::array =?</em>, <em>username::string =?</em>, <em>password::string =?</em>, <em>keyfield::string =?</em>, <em>lockfield::string =?</em>, <em>user =?</em>, <em>validate::boolean =?</em><big>)</big></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.password">
<tt class="descname">password</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.password" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">password=(password::string)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.querytime">
<tt class="descname">querytime</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.querytime" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">querytime=(querytime::integer)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.recorddata">
<tt class="descname">recorddata</tt><big>(</big><em>recordindex::integer =?</em><big>)</big><a class="headerlink" href="#knop_database.recorddata" title="Permalink to this definition">¶</a></dt>
<dd><p>A map containing all fields, only available for single record results.</p>
</dd></dl>

<dl class="method">
<dt>
<tt class="descname">recorddata=(recorddata::map)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.records">
<tt class="descname">records</tt><big>(</big><em>-inlinename::string =?</em><big>)</big><a class="headerlink" href="#knop_database.records" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">records</tt><big>(</big><em>inlinename::string =?</em><big>)</big></dt>
<dd><p>Returns all found records as a knop_databaserows object.</p>
</dd></dl>

<dl class="method">
<dt id="knop_database.records_array">
<tt class="descname">records_array</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.records_array" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">records_array=(records_array::staticarray)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.reset">
<tt class="descname">reset</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.reset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.resultset_count">
<tt class="descname">resultset_count</tt><big>(</big><em>inlinename::string =?</em><big>)</big><a class="headerlink" href="#knop_database.resultset_count" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.resultset_count_map">
<tt class="descname">resultset_count_map</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.resultset_count_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">resultset_count_map=(resultset_count_map::map)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.saverecord">
<tt class="descname">saverecord</tt><big>(</big><em>-fields::array</em>, <em>-keyfield::string =?</em>, <em>-keyvalue::string =?</em>, <em>-lockvalue::string =?</em>, <em>-keeplock::boolean =?</em>, <em>-user =?</em>, <em>-inlinename::string =?</em><big>)</big><a class="headerlink" href="#knop_database.saverecord" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">saverecord</tt><big>(</big><em>fields::array</em>, <em>keyfield::string =?</em>, <em>keyvalue::string =?</em>, <em>lockvalue::string =?</em>, <em>keeplock::boolean =?</em>, <em>user =?</em>, <em>inlinename::string =?</em><big>)</big></dt>
<dd><p>Updates a specific database record.</p>
<dl class="docutils">
<dt>Parameters:</dt>
<dd><ul class="first last">
<li><p class="first">fields (required array)</p>
<blockquote>
<div><p>Lasso-style field values in pair array</p>
</div></blockquote>
</li>
<li><p class="first">keyfield (optional)</p>
<blockquote>
<div><p>Keyfield is ignored if lockvalue is specified</p>
</div></blockquote>
</li>
<li><p class="first">keyvalue (optional)</p>
<blockquote>
<div><p>Keyvalue is ignored if lockvalue is specified</p>
</div></blockquote>
</li>
<li><p class="first">lockvalue (optional)</p>
<blockquote>
<div><p>Either keyvalue or lockvalue must be specified</p>
</div></blockquote>
</li>
<li><p class="first">keeplock (optional flag)</p>
<blockquote>
<div><p>Avoid clearing the record lock when saving. Updates the lock timestamp.</p>
</div></blockquote>
</li>
<li><p class="first">user (optional)</p>
<blockquote>
<div><p>If lockvalue is specified, user must be specified as well</p>
</div></blockquote>
</li>
<li><p class="first">inlinename (optional)</p>
<blockquote>
<div><p>Defaults to autocreated inlinename.</p>
</div></blockquote>
</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="knop_database.scrubKeywords">
<tt class="descname">scrubKeywords</tt><big>(</big><em>input</em><big>)</big><a class="headerlink" href="#knop_database.scrubKeywords" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">scrubKeywords</tt><big>(</big><em>input::trait_queriable</em><big>)</big></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.searchparams">
<tt class="descname">searchparams</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.searchparams" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">searchparams=(searchparams::array)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.select">
<tt class="descname">select</tt><big>(</big><em>-search::array =?</em>, <em>-sql::string =?</em>, <em>-keyfield::string =?</em>, <em>-keyvalue::string =?</em>, <em>-inlinename::string =?</em><big>)</big><a class="headerlink" href="#knop_database.select" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">select</tt><big>(</big><em>search::array =?</em>, <em>sql::string =?</em>, <em>keyfield::string =?</em>, <em>keyvalue =?</em>, <em>inlinename::string =?</em><big>)</big></dt>
<dd><p>perform database query, either Lasso-style pair array or SQL statement.
-&gt;recorddata returns a map with all the fields for the first found record. If
multiple records are returned, the records can be accessed either through
-&gt;inlinename or -&gt;records_array.</p>
<dl class="docutils">
<dt>Parameters:</dt>
<dd><ul class="first last">
<li><p class="first">search (optional array)</p>
<blockquote>
<div><p>Lasso-style search parameters in pair array</p>
</div></blockquote>
</li>
<li><p class="first">sql (optional string)</p>
<blockquote>
<div><p>Raw sql query</p>
</div></blockquote>
</li>
<li><p class="first">keyfield (optional)</p>
<blockquote>
<div><p>Overrides default keyfield, if any</p>
</div></blockquote>
</li>
<li><p class="first">keyvalue (optional)</p>
</li>
<li><p class="first">inlinename (optional)</p>
<blockquote>
<div><p>Defaults to autocreated inlinename</p>
</div></blockquote>
</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="knop_database.serializationElements">
<tt class="descname">serializationElements</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.serializationElements" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when a knop_database object is stored in a session</p>
</dd></dl>

<dl class="method">
<dt id="knop_database.sethost">
<tt class="descname">sethost</tt><big>(</big><em>host::array</em><big>)</big><a class="headerlink" href="#knop_database.sethost" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates or changes the DB inline host setting.</p>
</dd></dl>

<dl class="method">
<dt id="knop_database.settable">
<tt class="descname">settable</tt><big>(</big><em>table::string</em><big>)</big><a class="headerlink" href="#knop_database.settable" title="Permalink to this definition">¶</a></dt>
<dd><p>Changes the current table for a database object. Useful to be able to create
database objects faster by copying an existing object and just change the table
name. This is a little bit faster than creating a new instance from scratch, but
no table validation is performed. Only do this to add database objects for
tables within the same database as the original database object.</p>
</dd></dl>

<dl class="method">
<dt id="knop_database.shown_count">
<tt class="descname">shown_count</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.shown_count" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">shown_count=(shown_count::integer)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.shown_first">
<tt class="descname">shown_first</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.shown_first" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">shown_first=(shown_first::integer)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.shown_last">
<tt class="descname">shown_last</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.shown_last" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">shown_last=(shown_last::integer)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.size">
<tt class="descname">size</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.skiprecords_value">
<tt class="descname">skiprecords_value</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.skiprecords_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">skiprecords_value=(skiprecords_value::integer)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.table">
<tt class="descname">table</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.table" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">table=(table::string)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.table_names">
<tt class="descname">table_names</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.table_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an array with all table names for the database.</p>
</dd></dl>

<dl class="method">
<dt id="knop_database.timestampfield">
<tt class="descname">timestampfield</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.timestampfield" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">timestampfield=(timestampfield::string)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.timestampvalue">
<tt class="descname">timestampvalue</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.timestampvalue" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">timestampvalue=(timestampvalue::string)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.user">
<tt class="descname">user</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.user" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">user=(user)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.username">
<tt class="descname">username</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.username" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">username=(username::string)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_database.version">
<tt class="descname">version</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_database.version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">version=(version)</tt></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="knop_databaserows">
<em class="property">class </em><tt class="descname">knop_databaserows</tt><a class="headerlink" href="#knop_databaserows" title="Permalink to this definition">¶</a></dt>
<dd><p>Custom type to return all record rows from knop_database. Used as output for knop_database-&gt;records
Lasso 9 version</p>
<dl class="method">
<dt id="knop_databaserows.current_record">
<tt class="descname">current_record</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_databaserows.current_record" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">current_record=(current_record::integer)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_databaserows.description">
<tt class="descname">description</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_databaserows.description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">description=(description::string)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_databaserows.field">
<tt class="descname">field</tt><big>(</big><em>fieldname::string</em>, <em>recordindex::integer =?</em>, <em>index::integer =?</em><big>)</big><a class="headerlink" href="#knop_databaserows.field" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an individual field value.</p>
</dd></dl>

<dl class="method">
<dt id="knop_databaserows.field_names">
<tt class="descname">field_names</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_databaserows.field_names" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">field_names=(field_names::array)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_databaserows.field_names_map">
<tt class="descname">field_names_map</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_databaserows.field_names_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">field_names_map=(field_names_map::map)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_databaserows.get">
<tt class="descname">get</tt><big>(</big><em>index::integer</em><big>)</big><a class="headerlink" href="#knop_databaserows.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_databaserows.next">
<tt class="descname">next</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_databaserows.next" title="Permalink to this definition">¶</a></dt>
<dd><p>Increments the record pointer, returns true if there are more records to show, false otherwise.</p>
</dd></dl>

<dl class="method">
<dt id="knop_databaserows.onconvert">
<tt class="descname">onconvert</tt><big>(</big><em>recordindex::integer =?</em><big>)</big><a class="headerlink" href="#knop_databaserows.onconvert" title="Permalink to this definition">¶</a></dt>
<dd><p>Output the current record as a plain array of field values.</p>
</dd></dl>

<dl class="method">
<dt id="knop_databaserows.oncreate">
<tt class="descname">oncreate</tt><big>(</big><em>records_array::staticarray</em>, <em>field_names::array</em><big>)</big><a class="headerlink" href="#knop_databaserows.oncreate" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a record rows object.</p>
<dl class="docutils">
<dt>Parameters:</dt>
<dd><ul class="first last">
<li><p class="first">records_array (array)</p>
<blockquote>
<div><p>Array of arrays with field values for all fields for each record of all found records</p>
</div></blockquote>
</li>
<li><p class="first">field_names (array)</p>
<blockquote>
<div><p>Array with all the field names</p>
</div></blockquote>
</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="knop_databaserows.records_array">
<tt class="descname">records_array</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_databaserows.records_array" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">records_array=(records_array::staticarray)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_databaserows.size">
<tt class="descname">size</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_databaserows.size" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_databaserows.summary_footer">
<tt class="descname">summary_footer</tt><big>(</big><em>fieldname::string</em><big>)</big><a class="headerlink" href="#knop_databaserows.summary_footer" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if the specified field name will change in the following record, or
if we are at the last record.</p>
</dd></dl>

<dl class="method">
<dt id="knop_databaserows.summary_header">
<tt class="descname">summary_header</tt><big>(</big><em>fieldname::string</em><big>)</big><a class="headerlink" href="#knop_databaserows.summary_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns true if the specified field name has changed since the previous record,
or if we are at the first record.</p>
</dd></dl>

<dl class="method">
<dt id="knop_databaserows.version">
<tt class="descname">version</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_databaserows.version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">version=(version::date)</tt></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="knop_databaserow">
<em class="property">class </em><tt class="descname">knop_databaserow</tt><a class="headerlink" href="#knop_databaserow" title="Permalink to this definition">¶</a></dt>
<dd><p>Custom type to return individual record rows from knop_database. Used as output for knop_database-&gt;get
Lasso 9 version</p>
<dl class="method">
<dt id="knop_databaserow.description">
<tt class="descname">description</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_databaserow.description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">description=(description::string)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_databaserow.field">
<tt class="descname">field</tt><big>(</big><em>fieldname::string</em>, <em>index::integer =?</em><big>)</big><a class="headerlink" href="#knop_databaserow.field" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an individual field value.</p>
</dd></dl>

<dl class="method">
<dt id="knop_databaserow.field_names">
<tt class="descname">field_names</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_databaserow.field_names" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">field_names=(field_names::array)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_databaserow.onconvert">
<tt class="descname">onconvert</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_databaserow.onconvert" title="Permalink to this definition">¶</a></dt>
<dd><p>Output the record as a plain array of field values.</p>
</dd></dl>

<dl class="method">
<dt id="knop_databaserow.oncreate">
<tt class="descname">oncreate</tt><big>(</big><em>-record_array::staticarray</em>, <em>-field_names::array</em><big>)</big><a class="headerlink" href="#knop_databaserow.oncreate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">oncreate</tt><big>(</big><em>record_array::staticarray</em>, <em>field_names::array</em><big>)</big></dt>
<dd><p>Create a record row object.</p>
<dl class="docutils">
<dt>Parameters:</dt>
<dd><ul class="first last">
<li><p class="first">record_array (array)</p>
<blockquote>
<div><p>Array with field values for all fields for the record</p>
</div></blockquote>
</li>
<li><p class="first">field_names (array)</p>
<blockquote>
<div><p>Array with all the field names, should be same size as -record_array</p>
</div></blockquote>
</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="knop_databaserow.record_array">
<tt class="descname">record_array</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_databaserow.record_array" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">record_array=(record_array::staticarray)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_databaserow.version">
<tt class="descname">version</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_databaserow.version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">version=(version::date)</tt></dt>
<dd></dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="knop_cache.html"
                        title="previous chapter">knop_cache</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="knop_form.html"
                        title="next chapter">knop_form</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/knop_database.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="knop_form.html" title="knop_form"
             >next</a> |</li>
        <li class="right" >
          <a href="knop_cache.html" title="knop_cache"
             >previous</a> |</li>
        <li><a href="index.html">Knop knop9 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Johan Sölve, Jolle Carlestam, Tim Taplin, and Steve Piercy.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>