

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>knop_cache &mdash; Knop knop9 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     'knop9',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Knop knop9 documentation" href="index.html" />
    <link rel="next" title="knop_database" href="knop_database.html" />
    <link rel="prev" title="knop_base" href="knop_base.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="knop_database.html" title="knop_database"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="knop_base.html" title="knop_base"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Knop knop9 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="knop-cache">
<h1>knop_cache<a class="headerlink" href="#knop-cache" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="knop_cache">
<em class="property">class </em><tt class="descname">knop_cache</tt><a class="headerlink" href="#knop_cache" title="Permalink to this definition">¶</a></dt>
<dd><p>A thread object acting as base to the different Knop cache methods.
Methods:</p>
<blockquote>
<div><ul>
<li><p class="first">add
Stores a cache for the supplied name
Parameters:</p>
<blockquote>
<div><ul class="simple">
<li>name type = required, string,</li>
<li>content required, any kind of content,</li>
<li>expires optional, integer. Defaults to 600 seconds</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">get
Retrieves a cached content
Parameter: name type = required, string</p>
</li>
<li><p class="first">getall
Returns all cached content as a raw map. Useful for debugging</p>
</li>
<li><p class="first">remove
Deletes a cached object
Parameter: name type = required, string</p>
</li>
<li><p class="first">clear
Removes all cached content</p>
</li>
</ul>
</div></blockquote>
<dl class="method">
<dt id="knop_cache.active_tick">
<tt class="descname">active_tick</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_cache.active_tick" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_cache.add">
<tt class="descname">add</tt><big>(</big><em>name::string</em>, <em>content</em>, <em>expires::integer =?</em><big>)</big><a class="headerlink" href="#knop_cache.add" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_cache.caches">
<tt class="descname">caches</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_cache.caches" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">caches=(caches)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_cache.clear">
<tt class="descname">clear</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_cache.clear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_cache.get">
<tt class="descname">get</tt><big>(</big><em>name::string</em><big>)</big><a class="headerlink" href="#knop_cache.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_cache.getall">
<tt class="descname">getall</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_cache.getall" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_cache.purged">
<tt class="descname">purged</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_cache.purged" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">purged=(purged)</tt></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_cache.remove">
<tt class="descname">remove</tt><big>(</big><em>name::string</em><big>)</big><a class="headerlink" href="#knop_cache.remove" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="knop_cache.version">
<tt class="descname">version</tt><big>(</big><big>)</big><a class="headerlink" href="#knop_cache.version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">version=(version::date)</tt></dt>
<dd></dd></dl>

</dd></dl>

<dl class="method">
<dt id="knop_cachedelete">
<tt class="descname">knop_cachedelete</tt><big>(</big><em>-type::string</em>, <em>-session::string =?</em>, <em>-name::string =?</em><big>)</big><a class="headerlink" href="#knop_cachedelete" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">knop_cachedelete</tt><big>(</big><em>type::string</em>, <em>session::string =?</em>, <em>name::string =?</em><big>)</big></dt>
<dd><p>Deletes the cache for the specified type (and optionally name).</p>
<dl class="docutils">
<dt>Parameters:</dt>
<dd><ul class="first last simple">
<li>type (required string)
Page variables of the specified type will be deleted from cache.</li>
<li>session (optional string)
The name of an existing session storing the cache to be deleted.</li>
<li>name (optional string)
Extra name parameter used to isolate the cache storage from other sites on
the same virtual hosts.</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="knop_cachefetch">
<tt class="descname">knop_cachefetch</tt><big>(</big><em>-type::string</em>, <em>-session::string =?</em>, <em>-name::string =?</em>, <em>-maxage::date =?</em><big>)</big><a class="headerlink" href="#knop_cachefetch" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">knop_cachefetch</tt><big>(</big><em>type::string</em>, <em>session::string =?</em>, <em>name::string =?</em>, <em>maxage::date =?</em><big>)</big></dt>
<dd><p>Recreates page variables from previously cached instances of the specified type,
returns true if successful or false if there was no valid existing cache for the
specified type. Caches are stored in a global variable named by host name and
document root to isolate the storage of different hosts.</p>
<p>Knop_cachefetch calls the thread object <a class="reference internal" href="#knop_cache" title="knop_cache"><tt class="xref py py-class docutils literal"><span class="pre">knop_cache</span></tt></a> and can be replaced
by direct calls to <a class="reference internal" href="#knop_cache" title="knop_cache"><tt class="xref py py-class docutils literal"><span class="pre">knop_cache</span></tt></a> if you don&#8217;t want to get cached objects
from a session.</p>
<dl class="docutils">
<dt>Parameters:</dt>
<dd><ul class="first last simple">
<li>type (required string)
Page variables of the specified type will be stored in cache.</li>
<li>session (optional string)
The name of an existing session to use for cache storage instead of the global storage.</li>
<li>name (optional string)
Extra name parameter to be able to isolate the cache storage from other sites on the same virtual hosts.</li>
<li>maxage (optional date)
Cache data older than the date/time specified in -maxage will not be used.</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="knop_cachestore">
<tt class="descname">knop_cachestore</tt><big>(</big><em>-type::string</em>, <em>-expires::integer =?</em>, <em>-session::string =?</em>, <em>-name::string =?</em><big>)</big><a class="headerlink" href="#knop_cachestore" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<tt class="descname">knop_cachestore</tt><big>(</big><em>type::string</em>, <em>expires::integer =?</em>, <em>session::string =?</em>, <em>name::string =?</em><big>)</big></dt>
<dd><p>Stores all instances of page variables of the specified type in a cache object.
Caches are stored in a global variable named by host name and document root to
isolate the storage of different hosts.</p>
<p>Knop_cachestore calls the thread object <a class="reference internal" href="#knop_cache" title="knop_cache"><tt class="xref py py-class docutils literal"><span class="pre">knop_cache</span></tt></a> and can be replaced
by direct calls to <a class="reference internal" href="#knop_cache" title="knop_cache"><tt class="xref py py-class docutils literal"><span class="pre">knop_cache</span></tt></a> if you don&#8217;t want to store the cache in a
session.</p>
<dl class="docutils">
<dt>Parameters:</dt>
<dd><ul class="first last">
<li><p class="first">type (required string)</p>
<blockquote>
<div><p>Page variables of the specified type will be stored in cache. Data types
can be specified with or without namespace.</p>
</div></blockquote>
</li>
<li><p class="first">expires (optional integer)</p>
<blockquote>
<div><p>The number of seconds that the cached data should be valid. Defaults to
600 (10 minutes).</p>
</div></blockquote>
</li>
<li><p class="first">session (optional string)</p>
<blockquote>
<div><p>The name of an existing session to use for cache storage instead of the
global storage.</p>
</div></blockquote>
</li>
<li><p class="first">name (optional string)</p>
<blockquote>
<div><p>Extra name parameter to be able to isolate the cache storage from other
sites on the same virtual hosts, or caches for different uses.</p>
</div></blockquote>
</li>
</ul>
</dd>
</dl>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="knop_base.html"
                        title="previous chapter">knop_base</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="knop_database.html"
                        title="next chapter">knop_database</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/knop_cache.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="knop_database.html" title="knop_database"
             >next</a> |</li>
        <li class="right" >
          <a href="knop_base.html" title="knop_base"
             >previous</a> |</li>
        <li><a href="index.html">Knop knop9 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Johan Sölve, Jolle Carlestam, Tim Taplin, and Steve Piercy.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>